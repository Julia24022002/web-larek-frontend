# Проектная работа "Веб-ларек"

## Описание

Стек: HTML, SCSS, TS, Webpack

Структура проекта:

- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:

- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск

Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```

## Сборка

```
npm run build
```

или

```
yarn build
```

## Документация

### Данные и типы данных, используемые в приложении

+ Тип описывающий категории товаров
```typescript
type CategoryType =
 | 'другое'
 | 'софт-скил'
 | 'дополнительное'
 | 'кнопка'
 | 'хард-скил';
```

- Интерфейс `IProduct`, описывает карточку товара в магазине
```typescript
interface IProduct {
	id: string; // уникальный id
	category: CategoryType; // категория товара
	title: string; // название  товара
	image: string; // ссылка на изображение товара
	price: number | null; // цена товара, может быть null
	description: string; // описание товара
}
```

- Тип `TOrderPayment` описывает методы оплаты

```typescript
type TOrderPayment = 'cash' | 'card';
```

- Интерфейс `IOrder` используется для описания заказа

```typescript
interface IOrder {
	items: IProduct[]; // Массив ID купленных товаров
	total: number; // стоимость заказа
	payment: TOrderPayment; // Способ оплаты
	address: string; // Адрес доставки
	email: string; // Электронная почта
	phone: string; // Телефон
}
```

- Интерфейс `IBasket` содержит список товаров и итоговую стоимость

```typescript
interface IBasket {
	items: string[];
	total: number;
}
```

- Тип `OrderForm` используется для валидации полей ввода

```typescript
type OrderForm = Omit<IOrder, 'total' | 'items'>;
```

- Идентификатор созданного заказа и количество списанной валюты `IOrderResult`

```typescript
interface IOrderResult {
	id: string;
	total: number;
}
```

## Архитекрута приложения

Код приложения разделен на слои слогласно парадигме MVP:

- слой представления, отвечает за отображения данных на странице.
- слой данных, отвечает за хранение и изменение данных.
- презентер, отвечает за связь представления и данных.

### Базовый код

#### Класс Api
Содержит в себе базовую логику отправки запросов. В конструктор передается базовый адрес сервера и опциональный обьект с заголовками запросов.

Методы:
- `get` - выполняет GET запрос на переданный в параметрах ендпоинт и возвращает промис с обьектом, которым ответил сервер.
- `post`- принимает объект с данными, которые будут переданы в JSON в теле запроса, и
  отправляет эти данные на ендпоинт переданный как параметр при вызове метода. По умолчанию
  выполняется POST" запрос, но метод запроса может быть переопределен заданием третьего
  параметра при вызове.

#### Класс EventEmitter
Брокер событий позволяет отправлять события и подписываться на события, происходящие в
системе. Класс используется в презентере для обработки событий и в слоях приложения для
генерации событий.

Основные методы, реализуемые классом описаны интерфейсом `IEvents`:

- `on` - подписка на событие.
- `emit` - инициализация события.
- `trigger` - возвращает функцию, при вызове которой инициализируется требуемое в параметрах событие.









































































<!--
###  Модели данных
 (Это Классы, которые будут отвечать за хранение данных)

Класс WebLarekAPI
Класс Component
Класс View


Компоненты представления
Basket
Form
Modal
Page
Card
Order
Contacts
Success
AppData






### Описание событий -->
